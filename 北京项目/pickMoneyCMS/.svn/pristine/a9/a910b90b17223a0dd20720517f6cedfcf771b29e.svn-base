<?php
/**
 * 游戏列表-配置model
 * Author: Jason
 * Date: 18/10/25
 * Time: 下午3:52
 */

namespace app\admin\model\game;

use app\admin\model\BaseModel;
use think\Db;

class GameListModel extends BaseModel
{
    protected $game_list_table = 'b_game_list';
    protected function initialize()
    {
        parent::initialize(); // TODO: Change the autogenerated stub
    }


    /**
     * 获取答题游戏相关配置：答题时间、每轮题目数
     * @param $game_id
     * @return array|false|null|\PDOStatement|string|\think\Model
     */
    public function getGameConfig($game_id)
    {
        $where['id'] = $game_id;
        return Db::table($this->game_list_table)->where($where)->field('delay_sec,group_count')->find();
    }

    /**
     * 更新游戏配置-答题游戏：答题时间、和每轮答题次数
     * @param $data [需要更新的数据]
     * @param $game_id [游戏ID]
     * @return int|string
     */
    public function upConfig($data,$game_id)
    {
        $where['id'] = $game_id;
        return Db::table($this->game_list_table)->where($where)->data($data)->update();
    }
}